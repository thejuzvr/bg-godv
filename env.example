##############################################
# ElderScrollsIdle — Example .env file
# Скопируйте в .env и заполните реальные значения
##############################################

# PostgreSQL
DATABASE_URL=postgres://user:password@localhost:5432/elderidledb
PGSSL=false
PGSSL_REJECT_UNAUTHORIZED=false
PG_POOL_MAX=5
PG_IDLE_TIMEOUT_MS=30000
PG_CONN_TIMEOUT_MS=10000

# Redis (BullMQ, кэш, Socket.IO адаптер)
# Локально:
REDIS_URL=redis://localhost:6379/0
# Managed (TLS), пример:
# REDIS_URL=rediss://default:password@host:port/0
REDIS_SSL=false
REDIS_SSL_REJECT_UNAUTHORIZED=false
REDIS_CONNECT_TIMEOUT_MS=10000
REDIS_RETRY_BASE_MS=1000

# Фичи
FEATURE_BULLMQ=true                 # включает очередь тиков (BullMQ)
NEXT_PUBLIC_FEATURE_WEBSOCKETS=true # включает WebSocket на клиенте

# Telegram digest feature
TELEGRAM_ENABLED=false
TELEGRAM_BOT_TOKEN=
TELEGRAM_BOT_NAME=godtes_bot            # без символа @
TELEGRAM_WEBHOOK_SECRET=
DIGEST_HOUR_UTC=7
TELEGRAM_POLLING=false                  # true = использовать getUpdates вместо вебхука (локалка)

# Воркеры/Realtime
QUEUE_CONCURRENCY=4                 # параллелизм обработки тиков
DEFAULT_REALM_ID=global             # дефолтный realm
WS_PORT=5050                        # порт Socket.IO сервера
NEXT_PUBLIC_WS_URL=http://localhost:5050  # публичный URL для клиента (исп. хуком use-game-loop)

# Node/Next
NODE_ENV=development


# AI (Гибрид: Utility + Goals)
# ВНИМАНИЕ: флаги Behavior Tree (BT) больше не используются.
# НЕ задавайте NEXT_PUBLIC_AI_BT или AI_BT — они игнорируются.

# Базовые множители категорий (тонкая настройка «любви» к типам действий):
AI_CAT_TRAVEL_MULT=0.9           # путешествия (ниже 1.0 — реже, выше — чаще)
AI_CAT_QUEST_MULT=1.2            # задания
AI_CAT_SOCIAL_MULT=1.0           # общение/торговля
AI_CAT_EXPLORE_MULT=1.0          # исследование
AI_CAT_LEARN_MULT=1.0            # обучение

# Анти‑осцилляция (борьба с «маятником» и повторениями):
AI_ANTIOSC_ENABLED=true          # вкл/выкл анти‑осцилляции
AI_RECENT_DEST_LRU=5             # сколько последних локаций помнить для LRU
AI_TRAVEL_REPEAT_PENALTY=0.5     # штраф к весу при частых путешествиях (0..1)

# Прочее:
AI_SHOUT_COOLDOWN_ROUNDS=3       # кд крика (раунды)
AI_CONSUMABLES_MIN_TOTAL=1       # минимальный «запас» зелий до сигнала пополнить